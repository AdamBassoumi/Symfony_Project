{% extends 'base.html.twig' %}

{% block title %}My Shop{% endblock %}

{% block stylesheets %}
    {{ parent() }}  <!-- Include styles from base.html.twig -->
    <link rel="stylesheet" href="{{ asset('assets/styles/myshop.css') }}">  <!-- Homepage specific CSS -->
{% endblock %}

{% block body %}
    <div class="myshop-container">
        <h1>{{ shop.nom }}</h1>
        <p>{{ shop.description }}</p>

        <!-- Button to create a new product -->
        <a href="{{ path('app_produit_new') }}" class="btn btn-primary mt-3">Create a New Product</a>

        <h2>Product List</h2>

        <!-- Check if the shop has products -->
        {% if shop.produits|length > 0 %}
            <ul>
                {% for produit in shop.produits %}
                    <li>
                        <strong>{{ produit.name }}</strong><br>
                        {{ produit.description }}<br>
                        Price: {{ produit.prix }}<br>

                        {# Check if the product has an image, otherwise use the placeholder image #}
                        <img src="{% if produit.fichier %}{{ asset('assets/Product_Images/' ~ produit.fichier) }}{% else %}https://via.placeholder.com/300x200{% endif %}" alt="{{ produit.name }}">

                        <!-- Add more product details here as needed -->
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No products yet. Add a product!</p>
        {% endif %}
    </div>
{% endblock %}
